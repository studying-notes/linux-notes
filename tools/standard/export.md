---
date: 2020-10-20T09:26:21+08:00  # 创建日期
author: "Rustle Karl"  # 作者

# 文章
title: "export 在当前会话修改环境变量"  # 文章标题
# description: "文章描述"
url:  "posts/linux/tools/standard/export"  # 设置网页永久链接
tags: [ "linux", "cmd" ]  # 标签
series: [ "Linux 学习笔记" ]  # 系列
categories: [ "学习笔记" ]  # 分类

# 章节
weight: 20 # 排序优先级
chapter: false  # 设置为章节

index: true  # 是否可以被索引
toc: true  # 是否自动生成目录
draft: false  # 草稿
----

> 在当前会话新增、修改或删除环境变量


**变量是计算机系统用于保存可变值的数据类型**。在 Linux 系统中，**变量名称一般都是大写的**，这是一种约定俗成的规范。我们可以直接通过变量名称来提取到对应的变量值。

Linux 系统中的环境变量是用来**定义系统运行环境的一些参数**，比如每个用户不同的主目录、邮件存放位置等。为了通过环境变量帮助 Linux 系统构建起能够为用户提供服务的工作运行环境，需要数百个变量协同工作才能完成。

## 格式

```bash
export [-fn] [NAME[=VALUE] ...]
export -p
```

## 参数

| 参数 | 作用 |
| ---- | -------- |
| -f | 代表 [NAME] 中为函数名称 |
| -n | 删除指定的变量，仅当前会话有效 |
| -p | 列出全部导出的变量和函数 |

## 示例

1. 新增临时环境变量

```bash
export WORKDIR=/root/workdir
```

## 命令行执行过程

在用户执行了一条命令之后，命令在 Linux 中的执行分为 4 个步骤：

1. 判断用户是否以绝对路径或相对路径的方式输入命令，如果是的话则直接执行。

2. Linux 系统检查用户输入的命令是否为“别名命令”，即用一个自定义的命令名称来替换原本的命令名称。可以用 `alias` 命令来创建一个属于自己的命令别名，格式为 `alias 别名=命令`。若要取消一个命令别名，则是用 `unalias` 命令，格式为 `unalias 别名`。

3. 终端解释器判断用户输入的是内部命令还是外部命令。内部命令是解释器内部的指令，会被直接执行；而用户在绝大部分时间输入的是外部命令，这些命令交由步骤 4 继续处理。可以使用 `type 命令名称` 来判断用户输入的命令是内部命令还是外部命令。

4. 系统在多个路径中查找用户输入的命令文件，而定义这些路径的变量叫作 PATH，作用是告诉终端解释器待执行的命令可能存放的位置，然后终端解释器就会在这些位置中逐个查找。PATH 是由多个路径值组成的变量，每个路径值之间用冒号间隔，对这些路径的增加和删除操作将影响到终端解释器对 Linux 命令的查找。

## 最常见的几个环境变量

| 名称 | 作用 |
| -------- | -------- |
| HOME | 用户的主目录 |
| SHELL | 用户终端解释器名称 |
| HISTSIZE | 输出的历史命令记录条数 |
| HISTFILESIZE | 保存的历史命令记录条数 |
| MAIL | 邮件保存路径 |
| LANG | 系统语言名称 |
| RANDOM | 生成一个随机数字 |
| PS1 | 终端 |
| PATH | 定义解释器搜索用户执行命令的路径 |
| EDITOR | 用户默认的文本编辑器 |
