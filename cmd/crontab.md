# crontab 命令

> 设置长期性计划任务

## 格式

```bash
crontab [-u user] file
crontab [ -u user ] [ -i ] { -e | -l | -r }
```

- [分、时、日、月、星期] [命令]
- 除了用逗号（,）来分别表示多个时间段，例如“8,9,12”表示 8 月、9 月 和 12 月。还可以用减号（-）来表示一段连续的时间周期（例如字段“日”的取值为“12-15”，则表示每月的 12～15 日）。以及用除号（/）表示执行任务的间隔时间（例如“*/2”表示每隔 2 分钟执行一次任务）。
- 计划任务中的“分”字段必须有数值，绝对不能为空或是*号，而“日”和“星期”字段不能同时使用，否则就会发生冲突。
- 同时包含多条计划任务的命令语句，应每行仅写一条。

| 字段 | 说明 |
| --------- | --------- |
| 分 | 取值为 0～59 的整数 |
| 时 | 取值为 0～23 的任意整数 |
| 日 | 取值为 1～31 的任意整数 |
| 月 | 取值为 1～12 的任意整数 |
| 星期 | 取值为 0～7 的任意整数，其中 0 与 7 均为星期日 |
| 命令 | 要执行的命令或程序脚本 |

## 参数

| 参数 | 作用 |
| --------- | --------- |
| -e | edit user's crontab |
| -l | list user's crontab |
| -r | delete user's crontab |
| -i | prompt before deleting user's crontab |

## 示例

1. 编辑配置文件

```bash
$ crontab -e
# 写入内容
# 0 1 * * 1-5 /usr/bin/rm -rf /tmp/*
crontab: installing new crontab
```

2. 显示已设置计划

```bash
$ crontab -l
0 1 * * 1-5 /usr/bin/rm -rf /tmp/*
```

> 每周一至周五的凌晨 1 点钟自动清空 `/tmp` 目录内的所有文件

3. 修改默认编辑器

```bash
$ select-editor
```
